(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{136:function(e,t){},355:function(e,t,s){"use strict";s.r(t),s.d(t,"VideoJSPlayer",(function(){return l}));var i=s(108),o=(s(158),s(159),s(1)),a=s(0),r=s(39),n=s(2);window.videojs=i.default,s(160);class l{constructor(e){var t=this;this.controlBarHovered=!1,this.defaultToHls=i.default.browser.IS_ANY_SAFARI,this.firstSourceChange=!0,this.bindEvents=()=>{this._player.on("play",this.onPlay),this._player.on("pause",this.onPause),this._player.on("useractive",this.onUserActive),this._player.on("userinactive",this.onUserInactive),this._player.on("volumechange",this.onVolumeChange),this.DOMLayerCloseButton_.addEventListener("click",this.onCloseButtonClick),this.controlBarDom.addEventListener("mouseenter",this.menuMouseOver),this.controlBarDom.addEventListener("mouseleave",this.menuMouseOut),o.a.IS_TOUCH_DEVICE||window.addEventListener("mousemove",this.mouseMove_)},this.menuMouseOver=()=>{this.controlBarHovered=!0},this.menuMouseOut=()=>{this.controlBarHovered=!1},this.unbindEvents=()=>{this._player.off("play",this.onPlay),this._player.off("pause",this.onPause),this._player.off("useractive",this.onUserActive),this._player.off("userinactive",this.onUserInactive),this._player.off("volumechange",this.onVolumeChange),this.DOMLayerCloseButton_.removeEventListener("click",this.onCloseButtonClick),this.controlBarDom.removeEventListener("mouseenter",this.menuMouseOver),this.controlBarDom.removeEventListener("mouseleave",this.menuMouseOut),o.a.IS_TOUCH_DEVICE||window.removeEventListener("mousemove",this.mouseMove_)},this.onVolumeChange=()=>{this._player.muted()?this.reset():this.randomizeVolumeBar()},this.randomizeVolumeBar=()=>{this.DOMVolumeBar.forEach((e,t)=>{this.animBar(e)})},this.onCloseButtonClick=()=>{history.replaceState(void 0,void 0," "),this._player.pause(),this.unbindEvents(),r.a.AmbientAudio&&r.a.AmbientAudio.resume(),r.a.VIDEO_OPEN=!1,a.a.to(this.element_,{autoAlpha:0,pointerEvents:""}),n.a.trackClick("trailer","close")},this.onThumbnailClick=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),t.bindEvents(),r.a.AmbientAudio&&r.a.AmbientAudio.stop();try{t._player.play()}catch(e){console.warn(e)}return a.a.to(t.element_,{autoAlpha:1,pointerEvents:"auto",onComplete:()=>{r.a.VIDEO_OPEN=!0}}),n.a.trackClick("trailer_thumbnail","play_trailer"),!1},this.animBar=e=>{a.a.to(e,{duration:a.a.utils.random(.1,.3),scaleY:a.a.utils.random(1,4),repeat:1,force3D:!0,ease:"sine.inOut",yoyo:!0,onComplete:()=>{this.animBar(e)}})},this.onPlay=()=>{this.DOMPlayButton_.classList.add("is-playing"),this._player.muted()||this.randomizeVolumeBar(),n.a.trackClick("trailer","play")},this.onPause=()=>{this.DOMPlayButton_.classList.remove("is-playing"),this.DOMVolumeBar.forEach((e,t)=>{a.a.killTweensOf(e)}),n.a.trackClick("trailer","pause")},this.onUserInactive=()=>{this.DOMPlayButton_.classList.add("user-inactive")},this.onUserActive=()=>{this.DOMPlayButton_.classList.remove("user-inactive")},this.mouseMove_=e=>{this.mouse_.x=e.clientX,this.mouse_.y=e.clientY,a.a.to(this.DOMPlayButton_,{duration:.2,ease:"none",x:this.mouse_.x,y:this.mouse_.y}),this.controlBarHovered?this.onUserInactive():this.mouse_.y>this._player.controlBar.el().getBoundingClientRect().top-100?this.onUserInactive():this.mouse_.x>this.RectCloseButton_.x-100&&this.mouse_.y<this.RectCloseButton_.y+100?this.onUserInactive():this.onUserActive()},this.kill=()=>{this._player&&this._player.dispose(),this.DOMWatchTrailerLinks.forEach(e=>e.removeEventListener("click",this.onThumbnailClick)),this.unbindEvents()},this.element_=e.querySelector("#trailer"),this.DOMVideo_=this.element_.querySelector(".videoWrapper video"),this.DOMWatchTrailerLinks=e.querySelectorAll(".watchTrailer"),this.DOMPlayButton_=this.element_.querySelector(".playButton"),this.DOMVideoLayer_=this.element_.querySelector(".VideoLayer"),this.DOMLayerCloseButton_=this.element_.querySelector(".closeLayerButton"),this.mouse_={x:0,y:0},o.a.IS_TOUCH_DEVICE&&a.a.set(this.DOMPlayButton_,{display:"none"}),this.resize(),this.initPlayer()}initPlayer(){const e=Array.from(this.DOMVideo_.querySelectorAll("source")).map(e=>({src:e.dataset.src,type:e.type,res:e.getAttribute("res"),label:e.getAttribute("label")})),t=Array.from(this.DOMVideo_.querySelectorAll("track")),s=t.map((e,t)=>({kind:e.kind,label:e.label,id:"mp4_source"+t,srclang:e.srclang,src:e.src}));if(this.defaultToHls)for(let e=0;e<t.length;e++)t[e].remove();this._player=Object(i.default)(this.DOMVideo_,{sources:e,html5:{nativeControlsForTouch:!0},plugins:{videoJsResolutionSwitcher:{default:this.defaultToHls?"high":876,dynamicLabel:!0},httpSourceSelector:{default:"high"}},textTrackSettings:!1,captions:!0,autoplay:!1,controlBar:{playToggle:!1,captionsButton:!1,chaptersButton:!1,subtitlesButton:!1,remainingTimeDisplay:!1,currentTime:!1,progressControl:{seekBar:!0},seekToLive:!1,pictureInPictureToggle:!1,liveDisplay:!1,durationDisplay:!1,currentTimeDisplay:!1,timeDivider:!1,playbackRateMenuButton:!1,customControlSpacer:!1,descriptionsButton:!1,audioTrackButton:!1},errorDisplay:!0},()=>{this._player.addClass("video-trailer"),this.subsCapsButton_=this.element_.querySelector(".vjs-subs-caps-button .vjs-control-text"),this.subsCapsButton_.innerText="CC";var e=this._player.remoteTextTracks(),t=this.defaultToHls;this._player.on("resolutionchange",()=>{const i=this._player.src();if(this._player.paused()&&this.DOMPlayButton_.classList.remove("is-playing"),i.indexOf(".m3u8")>=0){t=!0;for(var o=e.length-1;o>=0;o--)(e[o].id.indexOf("mp4_source")>=0||e[o].src)&&this._player.removeRemoteTextTrack(e[o])}else t&&(s.forEach(e=>this._player.addRemoteTextTrack(e)),t=!1);if(!this.firstSourceChange)try{this._player.play()}catch(e){console.log("cannot autoresume playback")}this.firstSourceChange=!1});const i=this._player.controlBar.addChild("Component",{},0);i.addClass("video-title"),i.el_.innerText=this.element_.dataset.videoTitle;const o=this._player.controlBar.getChild("VolumePanel").addChild("Component",{},0);o.addClass("volumeBars"),this.DOMVolumeBar=[],new Array(4).fill(0).forEach(()=>{const e=o.addChild("Component",{},0);e.addClass("bar"),this.DOMVolumeBar.push(e.el_)}),this._player.controlBar.getChild("FullscreenToggle").addChild("Component",{},0).addClass("fullscreen-icon"),this.controlBarDom=this.element_.querySelector(".vjs-control-bar"),this.DOMWatchTrailerLinks.forEach(e=>e.addEventListener("click",this.onThumbnailClick)),"#trailer"===window.location.hash&&this.onThumbnailClick()})}reset(){this.DOMVolumeBar.forEach((e,t)=>{a.a.killTweensOf(e)}),a.a.to(this.DOMVolumeBar,{duration:.3,scaleY:1,force3D:!0})}resize(){this.RectCloseButton_=this.DOMLayerCloseButton_.getBoundingClientRect()}}}}]);